<!DOCTYPE html>
<html lang="es">

<head>
  <title>
  Magic Methods de PHP · Mikel Cantero
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Mikel Cantero">
<meta name="description" content="En este post veremos los métodos especiales denominados magic methods de PHP">
<meta name="keywords" content="blog,desarrollo web,ingeniería de software">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Magic Methods de PHP"/>
<meta name="twitter:description" content="En este post veremos los métodos especiales denominados magic methods de PHP"/>

<meta property="og:title" content="Magic Methods de PHP" />
<meta property="og:description" content="En este post veremos los métodos especiales denominados magic methods de PHP" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/magic-methods-de-php/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-31T10:45:34-06:00" />
<meta property="article:modified_time" content="2023-03-31T10:45:34-06:00" />





<link rel="canonical" href="http://example.org/posts/magic-methods-de-php/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.0669b62fc2c181a12a4ba10be9984e385c9a5e83dc7cb7ae3759ad0b98d7e8b2.css" integrity="sha256-Bmm2L8LBgaEqS6EL6ZhOOFyaXoPcfLeuN1mtC5jX6LI=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.f6534b0b446b75d9b6ad77a97d43ede2ddaeff1b6e2361fb7198d6f8fcb7f83f.css" integrity="sha256-9lNLC0Rrddm2rXepfUPt4t2u/xtuI2H7cZjW&#43;Py3&#43;D8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">




<meta name="generator" content="Hugo 0.92.2" />





</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Mikel Cantero
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">Sobre mí</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://example.org/posts/magic-methods-de-php/">
              Magic Methods de PHP
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2023-03-31T10:45:34-06:00">
                marzo 31, 2023
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              4 minutos de lectura.
            </span>
          </div>
          
          <div class="categories">
  <i class="fa fa-folder" aria-hidden="true"></i>
    <a href="/categories/programaci%C3%B3n-orientada-a-objetos/">programación orientada a objetos</a>
      <span class="separator">•</span>
    <a href="/categories/php/">php</a></div>

          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/php/">php</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="/tags/programaci%C3%B3n-orientada-a-objetos/">programación orientada a objetos</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>En PHP, existen varios métodos especiales llamados <em>magic methods</em> que permiten a los desarrolladores personalizar el comportamiento de las clases y objetos. Estos métodos se llaman automáticamente en ciertas situaciones específicas, como cuando se accede a una propiedad inexistente, se llama a un método inexistente, o se convierte un objeto en una cadena de texto, entre otras.</p>
<p>A continuación, se explicará cada uno de estos métodos especiales de PHP, junto con ejemplos que muestran cómo se pueden utilizar.</p>
<ol>
<li><strong><code>__toString()</code></strong>: Este método se llama cuando se intenta convertir un objeto en una cadena de texto. El método debe devolver una cadena que represente el objeto de la forma deseada. Este método es útil para proporcionar una representación legible de un objeto.</li>
</ol>
<p>Ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#fff;font-weight:bold">class</span> Persona {
  <span style="color:#fff;font-weight:bold">public</span> $nombre;
  <span style="color:#fff;font-weight:bold">public</span> $edad;

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __construct($nombre, $edad) {
    $this-&gt;<span style="color:#007f7f">nombre</span> = $nombre;
    $this-&gt;<span style="color:#007f7f">edad</span> = $edad;
  }

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __toString() {
    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;Mi nombre es &#34;</span> . $this-&gt;<span style="color:#007f7f">nombre</span> . <span style="color:#0ff;font-weight:bold">&#34; y tengo &#34;</span> . $this-&gt;<span style="color:#007f7f">edad</span> . <span style="color:#0ff;font-weight:bold">&#34; años.&#34;</span>;
  }
}

$persona = <span style="color:#fff;font-weight:bold">new</span> Persona(<span style="color:#0ff;font-weight:bold">&#34;Juan&#34;</span>, <span style="color:#ff0;font-weight:bold">25</span>);
<span style="color:#fff;font-weight:bold">echo</span> $persona; <span style="color:#007f7f">// Imprime &#34;Mi nombre es Juan y tengo 25 años.&#34;
</span></code></pre></div><ol start="2">
<li><strong><code>__get()</code> y <code>__set()</code></strong>: Estos métodos se llaman cuando se intenta acceder a una propiedad inexistente o se intenta asignar un valor a una propiedad inexistente, respectivamente. El método <code>__get()</code> debe devolver el valor de la propiedad, mientras que el método <code>__set()</code> debe asignar el valor a la propiedad.</li>
</ol>
<p>Ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#fff;font-weight:bold">class</span> Persona {
  <span style="color:#fff;font-weight:bold">private</span> $datos = [];

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __get($propiedad) {
    <span style="color:#fff;font-weight:bold">if</span> (array_key_exists($propiedad, $this-&gt;<span style="color:#007f7f">datos</span>)) {
      <span style="color:#fff;font-weight:bold">return</span> $this-&gt;<span style="color:#007f7f">datos</span>[$propiedad];
    } <span style="color:#fff;font-weight:bold">else</span> {
      <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
    }
  }

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __set($propiedad, $valor) {
    $this-&gt;<span style="color:#007f7f">datos</span>[$propiedad] = $valor;
  }
}

$persona = <span style="color:#fff;font-weight:bold">new</span> Persona();
$persona-&gt;<span style="color:#007f7f">nombre</span> = <span style="color:#0ff;font-weight:bold">&#34;Juan&#34;</span>;
$persona-&gt;<span style="color:#007f7f">edad</span> = <span style="color:#ff0;font-weight:bold">25</span>;

<span style="color:#fff;font-weight:bold">echo</span> $persona-&gt;<span style="color:#007f7f">nombre</span>; <span style="color:#007f7f">// Imprime &#34;Juan&#34;
</span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">echo</span> $persona-&gt;<span style="color:#007f7f">apellido</span>; <span style="color:#007f7f">// Imprime &#34;&#34;
</span></code></pre></div><ol start="3">
<li><strong><code>__call()</code> y <code>__callStatic()</code></strong>: Estos métodos se llaman cuando se intenta llamar a un método inexistente. El método <code>__call()</code> se llama en una instancia de una clase, mientras que el método <code>__callStatic()</code> se llama en la propia clase.</li>
</ol>
<p>Ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#fff;font-weight:bold">class</span> Persona {
  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __call($metodo, $argumentos) {
    <span style="color:#fff;font-weight:bold">if</span> ($metodo == <span style="color:#0ff;font-weight:bold">&#34;saludar&#34;</span>) {
      <span style="color:#fff;font-weight:bold">echo</span> <span style="color:#0ff;font-weight:bold">&#34;Hola, &#34;</span> . $argumentos[<span style="color:#ff0;font-weight:bold">0</span>] . <span style="color:#0ff;font-weight:bold">&#34;!&#34;</span>;
    }
  }

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">function</span> __callStatic($metodo, $argumentos) {
    <span style="color:#fff;font-weight:bold">if</span> ($metodo == <span style="color:#0ff;font-weight:bold">&#34;despedir&#34;</span>) {
      <span style="color:#fff;font-weight:bold">echo</span> <span style="color:#0ff;font-weight:bold">&#34;Adiós, &#34;</span> . $argumentos[<span style="color:#ff0;font-weight:bold">0</span>] . <span style="color:#0ff;font-weight:bold">&#34;!&#34;</span>;
    }
  }
}

$persona = <span style="color:#fff;font-weight:bold">new</span> Persona();
$persona-&gt;<span style="color:#007f7f">saludar</span>(<span style="color:#0ff;font-weight:bold">&#34;Juan&#34;</span>); <span style="color:#007f7f">// Imprime &#34;Hola, Juan!&#34;
</span><span style="color:#007f7f"></span>
Persona::<span style="color:#007f7f">despedir</span>(<span style="color:#0ff;font-weight:bold">&#34;Juan&#34;</span>); <span style="color:#007f7f">// Imprime &#34;Adiós, Juan!&#34;
</span></code></pre></div><ol start="4">
<li><strong><code>__invoke()</code></strong>: Este método se llama cuando se intenta llamar a un objeto como si fuera una función. El método debe devolver el resultado deseado de la llamada a la función.</li>
</ol>
<p>Ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#fff;font-weight:bold">class</span> Sumador {
  <span style="color:#fff;font-weight:bold">private</span> $total = <span style="color:#ff0;font-weight:bold">0</span>;

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __invoke($numero) {
    $this-&gt;<span style="color:#007f7f">total</span> += $numero;
    <span style="color:#fff;font-weight:bold">return</span> $this-&gt;<span style="color:#007f7f">total</span>;
  }
}

$sumador = <span style="color:#fff;font-weight:bold">new</span> Sumador();

<span style="color:#fff;font-weight:bold">echo</span> $sumador(<span style="color:#ff0;font-weight:bold">5</span>); <span style="color:#007f7f">// Imprime 5
</span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">echo</span> $sumador(<span style="color:#ff0;font-weight:bold">10</span>); <span style="color:#007f7f">// Imprime 15
</span></code></pre></div><ol start="5">
<li><strong><code>__sleep()</code> y <code>__wakeup()</code></strong>: Estos métodos se llaman antes y después de que un objeto sea serializado. El método <code>__sleep()</code> debe devolver un array de las propiedades del objeto que se deben serializar, mientras que el método <code>__wakeup()</code> se llama después de que el objeto ha sido deserializado y se utiliza para realizar cualquier acción necesaria para restaurar el objeto a su estado anterior.</li>
</ol>
<p>Ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#fff;font-weight:bold">class</span> Persona {
  <span style="color:#fff;font-weight:bold">public</span> $nombre;
  <span style="color:#fff;font-weight:bold">public</span> $edad;

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __sleep() {
    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">array</span>(<span style="color:#0ff;font-weight:bold">&#39;nombre&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;edad&#39;</span>);
  }

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __wakeup() {
    <span style="color:#fff;font-weight:bold">echo</span> <span style="color:#0ff;font-weight:bold">&#34;El objeto ha sido deserializado.&#34;</span>;
  }
}

$persona = <span style="color:#fff;font-weight:bold">new</span> Persona();
$persona-&gt;<span style="color:#007f7f">nombre</span> = <span style="color:#0ff;font-weight:bold">&#34;Juan&#34;</span>;
$persona-&gt;<span style="color:#007f7f">edad</span> = <span style="color:#ff0;font-weight:bold">25</span>;

$serializado = serialize($persona);

$persona2 = unserialize($serializado);
<span style="color:#fff;font-weight:bold">echo</span> $persona2-&gt;<span style="color:#007f7f">nombre</span>; <span style="color:#007f7f">// Imprime &#34;Juan&#34;
</span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">echo</span> $persona2-&gt;<span style="color:#007f7f">edad</span>; <span style="color:#007f7f">// Imprime &#34;25&#34;
</span><span style="color:#007f7f">// Imprime &#34;El objeto ha sido deserializado.&#34;
</span></code></pre></div><p>(*) Para saber más sobre serilización y deserialización <a href="/posts/serializar-deserialiar-objetos" >visita el siguiente post</a>.</p>
<ol start="6">
<li><strong><code>__clone()</code></strong>: Este método se llama cuando se clona un objeto. El método debe realizar cualquier acción necesaria para preparar el objeto clonado.</li>
</ol>
<p>Ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#fff;font-weight:bold">class</span> Persona {
  <span style="color:#fff;font-weight:bold">public</span> $nombre;
  <span style="color:#fff;font-weight:bold">public</span> $edad;

  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">function</span> __clone() {
    $this-&gt;<span style="color:#007f7f">nombre</span> = <span style="color:#0ff;font-weight:bold">&#34;Copia de &#34;</span> . $this-&gt;<span style="color:#007f7f">nombre</span>;
  }
}

$persona1 = <span style="color:#fff;font-weight:bold">new</span> Persona();
$persona1-&gt;<span style="color:#007f7f">nombre</span> = <span style="color:#0ff;font-weight:bold">&#34;Juan&#34;</span>;
$persona1-&gt;<span style="color:#007f7f">edad</span> = <span style="color:#ff0;font-weight:bold">25</span>;

$persona2 = <span style="color:#fff;font-weight:bold">clone</span> $persona1;
<span style="color:#fff;font-weight:bold">echo</span> $persona2-&gt;<span style="color:#007f7f">nombre</span>; <span style="color:#007f7f">// Imprime &#34;Copia de Juan&#34;
</span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">echo</span> $persona2-&gt;<span style="color:#007f7f">edad</span>; <span style="color:#007f7f">// Imprime &#34;25&#34;
</span></code></pre></div><p>En resumen, estos métodos especiales de PHP son herramientas poderosas para personalizar el comportamiento de las clases y objetos en el lenguaje. Cada uno de ellos se llama automáticamente en una situación específica y puede ser utilizado para realizar acciones personalizadas en ese momento. Al conocer y comprender cómo funcionan estos métodos, los desarrolladores pueden crear código más flexible y potente en PHP.</p>

      </div>


      <footer>
        


        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2023
     Mikel Cantero 
    ·
    
    Desarrollado por <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.369d90111ae4409b4e51de5efd23a46b92663fcc82dc9a0efde7f70bffc3f949.js" integrity="sha256-Np2QERrkQJtOUd5e/SOka5JmP8yC3JoO/ef3C//D&#43;Uk="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>